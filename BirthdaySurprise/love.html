<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Happy Birthday My Love</title>
  <meta name="color-scheme" content="light dark with lavender">

  <style>
    *{box-sizing:border-box;margin:0;padding:0}
    html,body{height:100%}
    body{
      font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      background: linear-gradient(180deg,#0f172a 0%, #07102a 60%);
      color:#fff;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      overflow:hidden;
    }

    .app{
      width:100%;
      height:100vh;
      position:relative;
      display:flex;
      align-items:center;
      justify-content:center;
      overflow:hidden;
    }

    .page{
      position:absolute;
      width:100%;
      height:100%;
      left:0; top:0;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:24px;
      transition: transform 700ms cubic-bezier(.2,.9,.25,1), opacity 500ms;
      opacity:0; pointer-events:none; transform: translateX(40px) scale(.99);
    }
    .page.active{opacity:1; pointer-events:auto; transform: translateX(0) scale(1);}

    .card{
      width:min(980px,96%); max-width:980px;
      border-radius:18px;
      padding:28px;
      box-shadow: 0 30px 80px rgba(2,6,23,0.6);
      backdrop-filter: blur(8px);
      position:relative;
      overflow:hidden;
    }

    .hero{
      display:flex;
      gap:22px;
      align-items:center;
      justify-content:space-between;
      background: linear-gradient(135deg, rgba(255,255,255,0.03), rgba(255,255,255,0.02));
      border-radius:16px;
      padding:28px;
    }

    .left-hero{flex:1 1 48%; color:#fff;}
    .right-hero{flex:1 1 48%; display:flex; align-items:center; justify-content:center;}

    .title{
      font-size:42px;
      line-height:1.02;
      color: #fff;
      letter-spacing: -0.6px;
      margin-bottom:10px;
      text-shadow: 0 18px 40px rgba(0,0,0,0.5);
    }
    .subtitle{
      color: rgba(255,255,255,0.88);
      font-size:16px;
      margin-bottom:18px;
    }

    .start-btn{
      padding:14px 28px;
      border-radius:999px;
      background: linear-gradient(90deg,#ff6b9a,#ffd166);
      color:#07102a;
      border:none;
      font-weight:700;
      cursor:pointer;
      box-shadow: 0 12px 30px rgba(255,107,154,0.18);
      font-size:16px;
    }

    .cartoon{
      width:100%;
      max-width:360px;
      border-radius:12px;
      box-shadow: 0 28px 60px rgba(2,6,23,0.6);
      transform-origin:center;
      animation: floaty 6s ease-in-out infinite;
    }
    @keyframes floaty {0%{transform:translateY(0)}50%{transform:translateY(-10px)}100%{transform:translateY(0)}}

    .confetti {position:absolute; inset:0; pointer-events:none; z-index:5;}

    .controls{
      position:absolute; bottom:22px; left:22px;
      color:rgba(255,255,255,0.8); font-size:13px;
      display:flex; gap:10px; align-items:center;
    }

    .mini{
      font-size:13px; color:rgba(255,255,255,0.8);
      padding:8px 12px; border-radius:999px; background:rgba(255,255,255,0.03);
    }

    .slideshow{display:flex; align-items:center; justify-content:center; gap:20px; flex-direction:column;}
    .photo-frame{
      width:680px; max-width:90%;
      height:420px; border-radius:14px;
      overflow:hidden; position:relative;
      background:linear-gradient(135deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      box-shadow: 0 30px 80px rgba(2,6,23,0.6);
    }
    .photo-frame img{width:100%; height:100%; object-fit:cover; display:block; opacity:0; transition:opacity 900ms ease}
    .photo-frame img.show{opacity:1}
    .slideshow .caption{margin-top:14px;color:rgba(255,255,255,0.95); font-size:16px}

    .next-btn{
      margin-top:18px; padding:10px 24px; background:rgba(255,255,255,0.95); color:#111; border-radius:999px; border:none; cursor:pointer; font-weight:600;
    }

    .message-wrap{
      width:720px; max-width:94%;
      padding:28px; border-radius:14px;
      background: linear-gradient(180deg, rgba(255,255,255,0.04), rgba(255,255,255,0.02));
      box-shadow: 0 30px 80px rgba(2,6,23,0.6);
      font-family: 'Segoe Script', cursive;
    }

    .decor{
      margin-bottom:14px; color:#ffd8ea; font-weight:700; font-size:18px;
    }

    .stage4{
      display:flex; gap:22px; align-items:center; justify-content:center; flex-direction:column;
    }

    .cake{
      width:220px; height:220px; border-radius:50%;
      background: radial-gradient(circle at 30% 20%, #fff2f6, #ffdede);
      display:flex; align-items:center; justify-content:center;
      box-shadow: 0 30px 60px rgba(0,0,0,0.4);
      position:relative;
      overflow:visible;
    }
    .cake:after{
      content:"";
      position:absolute; bottom:-18px; left:50%; transform:translateX(-50%);
      width:120px; height:10px; background:rgba(0,0,0,0.08); border-radius:20px;
    }

    .play-voice{
      padding:12px 22px; border-radius:999px; background:linear-gradient(90deg,#ff9bb7,#ffd76a);
      border:none; font-weight:700; cursor:pointer; color:#041024;
      box-shadow:0 18px 40px rgba(255,140,160,0.12);
      margin-top:18px;
    }

    .final-note{
      margin-top:18px; color:rgba(255,255,255,0.95); font-size:18px; text-align:center;
    }

    .handwritten{font-family:'Segoe Script', cursive;}
    .bold-line{font-weight:700; font-size:18px; margin-top:10px;}
  </style>
</head>
<body>
  <div class="app">
    <!-- Page 1 -->
    <div class="page active" id="p1">
      <div class="card hero" style="width:calc(100% - 40px); max-width:1100px;">
        <div class="left-hero">
          <div class="title">Happy Birthday ‚Äî <span id="nameTitle">My Love</span> üéâ</div>
          <div class="subtitle">I made something small and special for you. Click below and let's celebrate. üí´</div>

          <button id="startBtn" class="start-btn">Start the celebration ‚ú®</button>
        </div>
        <div class="right-hero">
          <img src="https://media0.giphy.com/media/s6fnVyWTfM2nUKuMVY/200.gif" alt="cartoon hug" class="cartoon" id="cartoonImg">
        </div>
        <canvas id="confetti" class="confetti"></canvas>
      </div>
      <div class="controls">
        <div class="mini">Pages: 1 / 4</div>
      </div>
    </div>

    <!-- Page 2 -->
    <div class="page" id="p2">
      <div class="card slideshow" style="text-align:center">
        <div class="photo-frame" id="photoFrame">
          <img id="photo1" src="pic3.jpeg" alt="photo1">
          <img id="photo2" src="pic4.jpeg" alt="photo2">
        </div>
        <div class="caption">Moments we made ‚Äî I keep them close.</div>
        <button class="next-btn" id="toMsg">Next: My message ‚Üí</button>
      </div>
    </div>

    <!-- Page 3 -->
    <div class="page" id="p3">
      <div class="card message-wrap">
        <div class="decor">A little note from me to you ‚ú®</div>
        <div class="handwritten">
          Happy Birthday, my love. You‚Äôve been more than a partner ‚Äî sometimes a mother, sometimes a father, always my best friend. I still don‚Äôt understand how a guy like you made me fall in love, because with me it‚Äôs never easy‚Ä¶ but you did it, and you‚Äôre irreplaceable. I love how your hugs make all my worries disappear, how your kisses feel like home, and how just holding your hand makes me feel safe and loved. I love the way you make me laugh even when I‚Äôm grumpy, the way you notice things about me no one else does, and the little moments we share that are ours alone. Being with you makes me want to be better, dream bigger, and love harder every single day.  I want you to always be there for me, support me, and be the mature man behind a girl chasing her dreams. I wish you a successful, happy, and wonderful year ahead, and I can‚Äôt wait for all the memories we‚Äôre still going to make together.
        </div>
        <div class="bold-line">
          "You're the light, you're the night, you're the color of my blood, you're the cure, you're the pain, you're the only thing I wanna touch, never knew that it could mean so much." ‚ù§Ô∏è
        </div>

        <button class="next-btn" id="toVoice">Next: A small surprise ‚Üí</button>
      </div>
    </div>

    <!-- Page 4 -->
    <div class="page" id="p4">
      <div class="card stage4">
        <div style="text-align:center">
          <div style="font-weight:800;font-size:20px;color:#fff">A small cute surprise üéÇ</div>
          <div style="margin-top:12px;color:rgba(255,255,255,0.9)">Press play to hear me üíñ</div>
        </div>

        <div class="cake" id="cake">
          <svg width="140" height="140" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg" style="filter:drop-shadow(0 16px 30px rgba(0,0,0,0.25))">
            <rect x="8" y="22" width="48" height="26" rx="6" fill="#fff" />
            <rect x="12" y="26" width="40" height="18" rx="4" fill="#ffdede" />
            <circle cx="24" cy="18" r="6" fill="#fff"/>
            <rect x="22" y="10" width="4" height="16" rx="2" fill="#ffd166"/>
          </svg>
        </div>

        <button class="play-voice" id="playVoiceBtn">Play My Voice üé§</button>
        <audio id="voicePlayer" src="song.mp3"></audio>

        <div class="final-note" id="finalNote">
          <div style="font-weight:700;font-size:18px">I love you ‚Äî always.</div>
          <div style="margin-top:6px;color:rgba(255,255,255,0.9)">‚Äì Your girl üíó</div>
        </div>

        <div style="margin-top:10px">
          <button class="next-btn" id="replay">Replay Celebration</button>
        </div>
      </div>
    </div>

    <!-- Background audio -->
    <audio id="bgm" loop src="lovemelikeyoudo.mp3"></audio>

  </div>

  <script>
    const pages = ['p1','p2','p3','p4'].map(id => document.getElementById(id));
    let idx = 0;
    function show(i){
      pages.forEach((p,pi)=> p.classList.toggle('active', pi===i));
      idx = i;
      document.querySelector('.mini') && (document.querySelector('.mini').textContent = `Pages: ${i+1} / 4`);
    }

    const startBtn = document.getElementById('startBtn');
    const bg = document.getElementById('bgm');
    startBtn.addEventListener('click', ()=> {
      bg.currentTime = 59; // start from 59 seconds
      bg.play().catch(()=>{});
      setTimeout(()=> show(1), 450);
    });

    const photo1 = document.getElementById('photo1');
    const photo2 = document.getElementById('photo2');
    const images = [photo1, photo2].filter(img => img && img.src && img.src.trim() !== "" );
    let showIndex = 0;
    function showImage(n){
      images.forEach((im, i)=> im.classList.toggle('show', i===n));
    }
    setTimeout(()=>{ showImage(0); }, 400);
    if(images.length > 1){
      setInterval(()=> {
        showIndex = (showIndex + 1) % images.length;
        showImage(showIndex);
      }, 3200);
    }

    document.getElementById('toMsg').addEventListener('click', ()=> show(2));
    document.getElementById('toVoice').addEventListener('click', ()=> show(3));
    document.getElementById('replay').addEventListener('click', ()=> show(0));

    const voicePlayer = document.getElementById('voicePlayer');
    document.getElementById('playVoiceBtn').addEventListener('click', ()=> {
      bg.pause();
      voicePlayer.play().catch(()=>{ alert('Tap the page to enable audio if it does not play automatically.'); });
    });

    (function initConfetti(){
      const canvas = document.getElementById('confetti');
      if(!canvas) return;
      canvas.width = innerWidth;
      canvas.height = innerHeight;
      const ctx = canvas.getContext('2d');
      const parts = [];
      const colors = ['#ff6b9a','#ffd166','#8bd3ff','#ffd7ea','#ffb3c6'];
      function spawn(){ parts.push({
        x: Math.random()*canvas.width,
        y: -10 - Math.random()*200,
        vx: (Math.random()-0.5)*1.6,
        vy: 1 + Math.random()*3.5,
        r: 6 + Math.random()*10,
        color: colors[Math.floor(Math.random()*colors.length)],
        t: Math.random()*Math.PI*2
      }); if(parts.length>140) parts.shift(); }
      for(let i=0;i<40;i++) spawn();
      function raf(){
        requestAnimationFrame(raf);
        ctx.clearRect(0,0,canvas.width,canvas.height);
        if(Math.random() < 0.24) spawn();
        parts.forEach((p,i)=>{ 
          p.x += p.vx; p.y += p.vy; p.t += 0.06;
          const wob = Math.sin(p.t)*6;
          ctx.save(); ctx.translate(p.x + wob, p.y); ctx.rotate(p.t*0.1);
          ctx.fillStyle = p.color;
          ctx.beginPath();
          ctx.moveTo(0,-p.r/2); ctx.lineTo(p.r/2,0); ctx.lineTo(0,p.r/2); ctx.lineTo(-p.r/2,0); ctx.closePath();
          ctx.fill(); ctx.restore();
        });
      }
      raf();
      addEventListener('resize', ()=>{ canvas.width=innerWidth; canvas.height=innerHeight; });
    })();

    window.addEventListener('keydown', (e)=> {
      if(e.key==='ArrowRight') show(Math.min(3, idx+1));
      if(e.key==='ArrowLeft') show(Math.max(0, idx-1));
    });
  </script>
</body>
</html>
